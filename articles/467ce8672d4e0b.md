---
title: "ã€Pythonã€‘ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®å‹ãƒ’ãƒ³ãƒˆã‚’å®Ÿç¾ã™ã‚‹"
emoji: "ğŸ™†"
type: "tech"
topics:
  - "python"
published: true
published_at: "2022-11-06 11:43"
---

Pythonã¯å‹•çš„å‹ä»˜ã‘ãªã®ã§ãƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°(åŒåã§å‘¼ã³å‡ºã›ã‚‹ãªã‚‰)ãŒå¯èƒ½ã§ã™ã€‚

ã—ã‹ã—ã€å‹ãƒ’ãƒ³ãƒˆã®éœ€è¦ãŒå¢—ã—ã¦ã„ã‚‹ç¾åœ¨ã§ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹çš„ãªå‹å®šç¾©ãŒæ¬²ã—ããªã£ã¦ãã¾ã™ã€‚

ãã‚“ãªã¨ãã«ä½¿ãˆã‚‹ã®ãŒ `typing.Protocol` ã§ã™ã€‚
https://docs.python.org/ja/3.8/library/typing.html#typing.Protocol

## ä½¿ã„æ–¹

```py
from typing import Protocol

class Proto(Protocol):
    def meth(self) -> int:
        ...


class C:
    def meth(self) -> int:
        return 0


def func(x: Proto) -> int:
    return x.meth()


print(func(C()))  # 0 ãŒè¡¨ç¤ºã•ã‚Œã‚‹

# ä»¥ä¸‹ã¯å‹ãƒã‚§ãƒƒã‚¯ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹
print(func(""))  # AttributeError: 'str' object has no attribute 'meth'
print(func(Proto()))  # TypeError: Protocols cannot be instantiated
```

å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ›¸ã„ã¦ã‚ã‚‹ã¨ãŠã‚Š `typing.Protocol` ã‚’è¦ªã«ã—ãŸã‚‰OKã§ã™ã€‚

`C` ã‚¯ãƒ©ã‚¹ã¯ `Proto` ã¨ç¶™æ‰¿é–¢ä¿‚ã«ãªã„ã§ã™ãŒå‹ãƒã‚§ãƒƒã‚¯ãŒå®Ÿç¾ã§ãã¦ã„ã¾ã™ã€‚